<!--Current as of 09-DEC-2025-->
    
<!--This section is for webpage styling-->

<html>
<head>
<meta charset="utf-8">
<title>New Pedon</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #F7F2EE;
  color: #312417;
}

/*collapsible section styling*/
.collapsible-section {
  border: 2px solid #d8cbb5;
  border-radius: 6px;
  margin: 15px 0;
  padding: 0;
  background-color: #fff;
}
.collapsible-header {
  background-color: #f0e3cc;
  padding: 12px 15px;
  cursor: pointer;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
  border-radius: 4px 4px 0 0;
}
.collapsible-header:hover {
  background-color: #d8cbb5;
}
.collapsible-arrow {
  font-size: 14px;
  transition: transform 0.3s;
}
.collapsible-arrow.collapsed {
  transform: rotate(-90deg);
}
.collapsible-content {
  padding: 15px;
  display: grid;
  gap: 10px;
}
.collapsible-content.hidden {
  display: none;
}

/*static/box section styling*/
.static-section {
  border: 2px solid #d8cbb5;
  border-radius: 6px;
  margin: 15px 0;
  padding: 0;
  background-color: #fff;
}
.static-header {
  background-color: #f0e3cc;
  padding: 12px 15px;
  font-weight: bold;
  border-radius: 4px 4px 0 0;
}
.static-content {
  padding: 15px;
  display: grid;
  gap: 10px;
}
</style>
</head>

<body>
<form id="f" style="max-width:650px;margin:24px auto;display:grid;gap:10px">
  <h1 style="text-align: center; font-size: 32px; margin-bottom: 15px;">SDB Pedon Entry Form</h1>

<!--STATIC
<div class="static-section">
    <div class="static-header">
        <span>Pedon depth</span>
    </div>
    <div class="static-content">

        </label>
        </label>
    </div>
</div>
-->

<!-- COLLAPSABLE
<div class="collapsible-section">
    <div class="collapsible-header" onclick="toggleSection(this)">
        <span>NAME</span>
        <span class="collapsible-arrow">▼</span>
    </div>
    <div class="collapsible-content">
        FIELDS
        </label>
    </div>
</div>
-->


<!--catagory: pedon identifiers-->

<div class="static-section"> 
    <div class="static-header">
        <span>Catagory: Pedon Identifiers</span>
    </div>
    <div class="static-content">
        <label>SDB project ID
            <input name="sdb_projiid_ref" required>
        </label>

        <label>Lab pedon ID
            <input name="lab_peiid" required>
        </label> 

        <label>SDB pedon ID                 <!--autofilled-->
            <input name="sdb_peiid" required>
        </label> 

        <label>Entry date                   <!--should be autofilled/backend-->
            <input name="proj_entry_dts" required>

        <label>Observation date
            <input name="obs_dts" type="date" required>
        </label>

        <label>Describer'(s) initials
            <input name="desc_in" type="text">
        </label>
        </label>
    </div>
</div> 

<!--catagory: pedon location-->

<div class="static-section">
    <div class="static-header">
        <span>Catagory: Pedon Location</span>
    </div>
    <div class="static-content">
        <label>Latitude (dec deg WGS-84)
            <input name="lat" type="number" required>
        </label>

        <label>Longitude (dec deg WGS-84)
            <input name="lon" type="number" required>
        </label>

        <label> Geospatial data quality     <!--only 1-5-->
        <input name="geosp_dataq" type="number">
        </label>

    <div class="collapsible-section">
        <div class="collapsible-header" onclick="toggleSection(this)">
            <span>US-specific location information</span>
            <span class="collapsible-arrow">▼</span>
        </div>
        <div class="collapsible-content">
            <label>State                        <!--only 2 charecters-->
                <input name="us_state" type="text">
            </label>

            <label>County name
                <input name="county_name" type="text">
            </label>

            <label>Fips county code
                <input name="county_fips" type="number">
            </label>

            <label>Physiographic division
                <input name="phys_div" type="text">
            </label>

            <label>Providence
                <input name="prov" type="text">
            </label>

            <label>Section
                <input name="sect" type="text">
            </label>

            <label>Local
                <input name="locl" type="text">
            </label>
            </label>
        </div>
    </div>

    <div class="collapsible-section">
        <div class="collapsible-header" onclick="toggleSection(this)">
            <span>Transect-specific information</span>
            <span class="collapsible-arrow">▼</span>
        </div>
        <div class="collapsible-content">
        <label>Transect ID
            <input name="tran_id" type="number">
        </label>

        <label>Transect sequence
            <input name="tran_seq" type="number">
        </label>
        </label>
        </div>
    </div>
        <label>NPC code         <!--controlled vocab-->
            <input name="npc_code" type="text">
        </label>

        <label>SSURGO map unit
            <input name="ssurgo_mu" type="text">
        </label>
    </div>
</div>


<!--catagory: depth information-->

<div class="static-section">
    <div class="static-header">
        <span>Catagory: Pedon Depth</span>
    </div>
    <div class="static-content">
        <label>Observed pedon depth (cm)
            <input name="obsdepb" type="number">
        </label>

        <label>Observed cumulative thickness of O horizon(s) (cm)
            <input name="obs_othick" type="number">
        </label>

        <label>Depth to restrictive layer (cm)
            <input name="restrict_dep" type="number">
        </label>

        <label>Type of restrictive layer
            <input name="restrict_type" type="text">
        </label>
        </label>
    </div>
</div>


<!--catagory: photos/videos-->

<div class="collapsible-section">
    <div class="collapsible-header" onclick="toggleSection(this)">
        <span>Catagory: Photos and Videos</span>
        <span class="collapsible-arrow">▼</span>
    </div>
    <div class="collapsible-content">
        <label>Description sheet photo(s) taken?
            <input name="descr_photo" type="checkbox" value="true">
        </label>

        <label>Site photo(s) taken?
            <input name="site_photo" type="checkbox" value="true">
        </label>

        <label>Site video(s) taken?
            <input name="site_video" type="checkbox" value="true">
        </label>

        <label>Pedon photo(s) taken?
            <input name="pedon_photo" type="checkbox" value="true">
        </label>        
        </label>
    </div>
</div>

<!--catagory: landscape/landform-->

<div class="collapsible-section">
    <div class="collapsible-header" onclick="toggleSection(this)">
        <span>Catagory: Landscape and Landform</span>
        <span class="collapsible-arrow">▼</span>
    </div>
    <div class="collapsible-content">
        <label>Landscape
            <input name="lndscp" type="text">
        </label>

        <label>Landform
            <input name="lndfrm" type="text">
        </label>

        <label>Slope shape (up & down)   <!--controlled vocab-->
            <input name="slpshp_ud" type="text">
        </label>

        <label>Slope shape (across)      <!--controlled vocab-->
            <input name="slpshp_acr" type="text">
        </label>

        <label>Hillslope position        <!--controlled vocab-->
            <input name="2d_hill_pos" type="text">
        </label>

        <label>Slope position            <!--controlled vocab-->
            <input name="slppos" type="text">
        </label>

        <label>Geomorphic composition
            <input name="3d_geo_comp" type="text">
        </label>

        <label>Surface microrelief (cm)
            <input name="surfmic" type="number">
        </label>

        <label>Slope complexity          <!--controlled vocab-->
            <input name="slpcomplx" type="text">
        </label>

        <label>Slope (%)
            <input name="slp" type="number">
        </label>

        <label>Aspect                   <!--restricted values-->
            <input name="asp" type="number">
        </label>

        <label>Break in landscape (m)
            <input name="lndscp_break" type="number">
        </label>

        <label>Plot radius (m)
            <input name="pl_rad" type="number">
        </label>
        </label>
    </div>
</div>

<!--catagory: soil water-->

<div class="collapsible-section">
    <div class="collapsible-header" onclick="toggleSection(this)">
        <span>Catagory: Soil Water</span>
        <span class="collapsible-arrow">▼</span>
    </div>
    <div class="collapsible-content">
        <label>Drainage class           <!--controlled vocab-->
            <input name="drain_class" type="text">
        </label>

        <label>Depth to subsurface water table (cm)
            <input name="wt_dep" type="number">
        </label>

        <label>Hydric soil?
            <input name="hydstat" type="checkbox" value="true">
        </label>
    </label>
    </div>
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <span>Moisture status</span>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <div class="collapsible-section">
                    <div class="collapsible-header" onclick="toggleSection(this)">
                        <span>Moisture status 1</span>
                        <span class="collapsible-arrow">▼</span>
                    </div>
                    <div class="collapsible-content">
                        <label>Moisture status 1         <!--controlled vocab-->
                            <input name="mst_kind_1" type="text">
                        </label>

                        <label>Mositure status 1 top depth (cm)
                            <input name="mst_dept_1" type="number">
                        </label>

                        <label>Mositure status 1 bottom depth (cm)
                            <input name="mst_depb_1" type="number">
                        </label>
                        </label>
                    </div>
                </div>
            <div class="collapsible-section">
                <div class="collapsible-header" onclick="toggleSection(this)">
                    <span>Moisture status 2</span>
                    <span class="collapsible-arrow">▼</span>
                </div>
                <div class="collapsible-content">
                    <label>Moisture status 2         <!--controlled vocab-->
                        <input name="mst_kind_2" type="text">
                    </label>

                    <label>Mositure status 2 top depth (cm)
                        <input name="mst_dept_2" type="number">
                    </label>

                    <label>Mositure status 2 bottom depth (cm)
                        <input name="mst_depb_2" type="number">
                    </label>
                    </label>
                </div>
            </div>
                </label>
            </div>
        </div>
    <div class="collapsible-section">
        <div class="collapsible-header" onclick="toggleSection(this)">
            <span>Surface water</span>
            <span class="collapsible-arrow">▼</span>
        </div>
        <div class="collapsible-content">
            <label>Surface water present?
                <input name="surfh2o_stat" type="checkbox" value="true">
            </label>

            <label>Surface water depth (cm)
                <input name="surfh2o_dep" type="number">
            </label>
            </label>
        </div>
    </label>
    </div>
</div>

<!--catagory: parent material-->
<div class="collapsible-section">
    <div class="collapsible-header" onclick="toggleSection(this)">
        <span>Catagory: Parent Material</span>
        <span class="collapsible-arrow">▼</span>
    </div>
    <div class="collapsible-content">

        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <span>Parent material 1</span>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <label>Parent material 1 kind
                    <input name="pm_kind_1" type="text">
                </label>

                <label>Parent material 1 top depth
                    <input name="pm_dept_1" type="number">
                </label>

                <label>Parent material 1 bottom depth
                    <input name="pm_depb_1" type="number">
                </label>

                <label>Parent material 1 texture modifier
                    <input name="pm_mod_1" type="text">
                </label>
            
                <div class="collapsible-section">
                    <div class="collapsible-header" onclick="toggleSection(this)">
                        <span>Additional Parent Materials</span>
                        <span class="collapsible-arrow">▼</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="static-section">
                            <div class="static-header">
                                <span>Parent Material 2</span>
                            </div>
                            <div class="static-content">
                                <label>Parent material 2 kind
                                    <input name="pm_kind_2" type="text">
                                </label>

                                <label>Parent material 2 top depth
                                    <input name="pm_dept_2" type="number">
                                </label>

                                <label>Parent material 2 bottom depth
                                    <input name="pm_depb_2" type="number">
                                </label>

                                <label>Parent material 2 texture modifier
                                    <input name="pm_mod_2" type="text">
                                </label>
                            </div>
                        </div>

                        <div class="static-section">
                            <div class="static-header">
                                <span>Parent Material 3</span>
                            </div>
                            <div class="static-content">
                                <label>Parent material 3 kind
                                    <input name="pm_kind_3" type="text">
                                </label>

                                <label>Parent material 3 top depth
                                    <input name="pm_dept_3" type="number">
                                </label>

                                <label>Parent material 3 bottom depth
                                    <input name="pm_depb_3" type="number">
                                </label>

                                <label>Parent material 3 texture modifier
                                    <input name="pm_mod_3" type="text">
                                </label>
                            </div>
                        </div>

                        <div class="static-section">
                            <div class="static-header">
                                <span>Parent material 4</span>
                            </div>
                            <div class="static-content">
                                <label>Parent material 4 kind
                                    <input name="pm_kind_4" type="text">
                                </label>

                                <label>Parent material 4 top depth
                                    <input name="pm_dept_4" type="number">
                                </label>

                                <label>Parent material 4 bottom depth
                                    <input name="pm_depb_4" type="number">
                                </label>

                                <label>Parent material 4 texture modifier
                                    <input name="pm_mod_4" type="text">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>       

        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <span>Buried soils</span>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <label>Buried soil?
                    <input name="buried_soil" type="checkbox" value="true">
                </label>

                <label>Surface mantal material
                    <input name="surf_mantle" type="text">
                </label>
            </div>
        </div>        

        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <span>Bedrock</span>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <label>Bedrock kind
                    <input name="bdrock_kind" type="text">
                </label>

                <label>Bedrock top depth (cm)
                    <input name="bdrock_dept" type="number">
                </label>

                <label>Bedrock bottom depth (cm)
                    <input name="bdrock_depb" type="number">
                </label>

                <label>Bedrock hardness
                    <input name="bdrock_hard" type="text">
                </label>
            </div>
        </div>

    </div>
</div>

<!--catagory: surface cover-->
<label>Surface stoniness (%)        <!--restricted values (0-100)-->
    <input name="surfston_pct" type="number">
</label>

<label>Surface stoniness spacing (cm)
    <input name="surfston_spc" type="number">
</label>

<label>Surface stoniness size
    <input name="surfston_sz" type="number">
</label>

<label>Surface crust and cracks?
    <input name="crust_crack" type="checkbox" value="true">
</label>

<label>Landcover kind 1              <!--controlled vocab-->
    <input name="landcov_1" type="text">
</label>

<label>Landcover kind 2              <!--controlled vocab-->
    <input name="landcov_2" type="text">
</label>


<!--catagory: soil classification-->
    <!--epipedon-->
    <label>Epipedon 1 type      <!--controlled vocab-->
            <input name="epi_type_1" type="text">
        </label>

        <label>Epipedon 1 top depth
            <input name="epi_dept_1" type="number">
        </label>

        <label>Epipedon 1 bottom depth
            <input name="epi_depb_1" type="number">
        </label>

    <label>Epipedon 2 type      <!--controlled vocab-->
            <input name="epi_type_2" type="text">
        </label>

        <label>Epipedon 2 top depth
            <input name="epi_dept_2" type="number">
        </label>

        <label>Epipedon 2 bottom depth
            <input name="epi_depb_2" type="number">
        </label>
      
    <label>Epipedon 3 type      <!--controlled vocab-->
            <input name="epi_type_3" type="text">
        </label>

        <label>Epipedon 3 top depth
            <input name="epi_dept_3" type="number">
        </label>

        <label>Epipedon 3 bottom depth
            <input name="epi_depb_3" type="number">
        </label>
    
    <!--diagnostic horizon(s)-->
     <label>Diagnostic horizon 1 type    <!--controlled vocab-->
            <input name="diaghz_type_1" type="text">
        </label>                

        <label>Diagnostic horizon 1 top depth (cm)
            <input name="diaghz_dept_1" type="number">
        </label>

        <label>Diagnostic horizon 1 bottom depth (cm)
            <input name="diaghz_depb_1" type="number">
        </label>

    <label>Diagnostic horizon 2 type     <!--controlled vocab-->
            <input name="diaghz_type_2" type="text">
        </label>                

        <label>Diagnostic horizon 2 top depth (cm)
            <input name="diaghz_dept_2" type="number">
        </label>

        <label>Diagnostic horizon 2 bottom depth (cm)
            <input name="diaghz_depb_2" type="number">
        </label>

    <label>Diagnostic horizon 3 type     <!--controlled vocab-->
            <input name="diaghz_type_3" type="text">
        </label>                

        <label>Diagnostic horizon 3 top depth (cm)
            <input name="diaghz_dept_3" type="number">
        </label>

        <label>Diagnostic horizon 3 bottom depth (cm)
            <input name="diaghz_depb_3" type="number">
        </label>

    <label>Diagnostic horizon 4 type     <!--controlled vocab-->
            <input name="diaghz_type_4" type="text">
        </label>                

        <label>Diagnostic horizon 4 top depth (cm)
            <input name="diaghz_dept_4" type="number">
        </label>

        <label>Diagnostic horizon 4 bottom depth (cm)
            <input name="diaghz_depb_4" type="number">
        </label>

    <label>Diagnostic horizon 5 type     <!--controlled vocab-->
            <input name="diaghz_type_5" type="text">
        </label>                

        <label>Diagnostic horizon 5 top depth (cm)
            <input name="diaghz_dept_5" type="number">
        </label>

        <label>Diagnostic horizon 5 bottom depth (cm)
            <input name="diaghz_depb_5" type="number">
        </label>

    <!--subsurface features-->
    <label>Subsurface feature 1 type    <!--controlled vocab-->
            <input name="sbsft_type_1" type="text">
        </label>                

        <label>Subsurface feature 1 top depth (cm)
            <input name="sbsft_dept_1" type="number">
        </label>

        <label>Subsurface feature 1 bottom depth (cm)
            <input name="sbsft_depb_1" type="number">
        </label>

    <label>Subsurface feature 2 type    <!--controlled vocab-->
            <input name="sbsft_type_2" type="text">
        </label>                

        <label>Subsurface feature 2 top depth (cm)
            <input name="sbsft_dept_2" type="number">
        </label>

        <label>Subsurface feature 2 bottom depth (cm)
            <input name="sbsft_depb_2" type="number">
        </label>
        
    <label>Subsurface feature 3 type    <!--controlled vocab-->
            <input name="sbsft_type_3" type="text">
        </label>                

        <label>Subsurface feature 3 top depth (cm)
            <input name="sbsft_dept_3" type="number">
        </label>

        <label>Subsurface feature 3 bottom depth (cm)
            <input name="sbsft_depb_3" type="number">
        </label>

    <label>Subsurface feature 4 type    <!--controlled vocab-->
            <input name="sbsft_type_4" type="text">
        </label>                

        <label>Subsurface feature 4 top depth (cm)
            <input name="sbsft_dept_4" type="number">
        </label>

        <label>Subsurface feature 4 bottom depth (cm)
            <input name="sbsft_depb_4" type="number">
        </label>

    <label>Subsurface feature 5 type    <!--controlled vocab-->
            <input name="sbsft_type_5" type="text">
        </label>                

        <label>Subsurface feature 5 top depth (cm)
            <input name="sbsft_dept_5" type="number">
        </label>

        <label>Subsurface feature 5 bottom depth (cm)
            <input name="sbsft_depb_5" type="number">
        </label>

    <label>Subsurface feature 6 type    <!--controlled vocab-->
            <input name="sbsft_type_6" type="text">
        </label>                

        <label>Subsurface feature 6 top depth (cm)
            <input name="sbsft_dept_6" type="number">
        </label>

        <label>Subsurface feature 6 bottom depth (cm)
            <input name="sbsft_depb_6" type="number">
        </label>

    <label>Subsurface feature 7 type    <!--controlled vocab-->
            <input name="sbsft_type_7" type="text">
        </label>                

        <label>Subsurface feature 7 top depth (cm)
            <input name="sbsft_dept_7" type="number">
        </label>

        <label>Subsurface feature 7 bottom depth (cm)
            <input name="sbsft_depb_7" type="number">
        </label>

    <label>Subsurface feature 8 type    <!--controlled vocab-->
            <input name="sbsft_type_8" type="text">
        </label>                

        <label>Subsurface feature 8 top depth (cm)
            <input name="sbsft_dept_8" type="number">
        </label>

        <label>Subsurface feature 8 bottom depth (cm)
            <input name="sbsft_depb_8" type="number">
        </label>

    <label>Subsurface feature 9 type    <!--controlled vocab-->
            <input name="sbsft_type_9" type="text">
        </label>                

        <label>Subsurface feature 9 top depth (cm)
            <input name="sbsft_dept_9" type="number">
        </label>

        <label>Subsurface feature 9 bottom depth (cm)
            <input name="sbsft_depb_9" type="number">
        </label>

    <label>Subsurface feature 10 type   <!--controlled vocab-->
            <input name="sbsft_type_10" type="text">
        </label>                

        <label>Subsurface feature 10 top depth (cm)
            <input name="sbsft_dept_10" type="number">
        </label>

        <label>Subsurface feature 10 bottom depth (cm)
            <input name="sbsft_depb_10" type="number">
        </label>


<!--field taxonomy-->   
    <label>Preliminary/field order  <!--controlled vocab-->
        <input name="prelimtax_order" type="text">
    </label>

    <label>Preliminary/field suborder   <!--controlled vocab-->
        <input name="prelimtax_suborder" type="text">
    </label>

    <label>Preliminary/field great group    <!--controlled vocab-->
        <input name="prelimtax_grtgrp" type="text">
    </label>

    <label>Preliminary/field subgroup   <!--controlled vocab-->
        <input name="prelimtax_sbgrp" type="text">
    </label>

    <label>Preliminary/field taxon family
        <input name="prelimtax_fam" type="text">
    </label>

    <label>Preliminary/field particle size control section top
        <input name="prelimtax_pscst" type="number">
    </label>

    <label>Preliminary/field particle size control section bottom
        <input name="prelimtax_pscsb" type="number">
    </label>

    <label>Preliminary/field family particle size class <!--controlled vocab-->
        <input name="prelimtax_fpsc" type="text">
    </label>

    <label>Preliminary/field full taxonomic name
        <input name="prelimtax_fullname" type="text">
    </label>

    <label>Preliminary/field series name
        <input name="prelimtax_srs" type="text">
    </label>

    <!--final taxonomy-->   
    <label>Final order  <!--controlled vocab-->
        <input name="finaltax_order" type="text">
    </label>

    <label>Final suborder   <!--controlled vocab-->
        <input name="finaltax_suborder" type="text">
    </label>

    <label>Final great group    <!--controlled vocab-->
        <input name="finaltax_grtgrp" type="text">
    </label>

    <label>Final subgroup   <!--controlled vocab-->
        <input name="finaltax_sbgrp" type="text">
    </label>

    <label>Final taxon family
        <input name="finaltax_fam" type="text">
    </label>

    <label>Final particle size control section top
        <input name="finaltax_pscst" type="number">
    </label>

    <label>Final particle size control section bottom
        <input name="finaltax_pscsb" type="number">
    </label>

    <label>Final family particle size class <!--controlled vocab-->
        <input name="finaltax_fpsc" type="text">
    </label>

    <label>Final full taxonomic name
        <input name="finaltax_fullname" type="text">
    </label>

    <label>Final series name
        <input name="finaltax_srs" type="text">
    </label>

<!--catagory: misc.-->
<label>Rusi performed?
    <input name="rusi_boolean" type="checkbox" value="true">
</label>

<label>RUSI value
    <input name="rusi_val_ref" type="number">
</label>

<!--Pedon notes-->
<label>Pedon notes
    <input name="ped_notes" type="text">
</label>


<!--This is the save button at the end of the form, needs work-->
 
  <button>Save</button>
  <pre id="out"></pre>
</form>
<script>
const API = "https://673mmzj2a6.execute-api.us-east-2.amazonaws.com/prod";
document.getElementById('f').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const outEl = document.getElementById('out');
  outEl.textContent = "Submitting...";
  
  const fd = new FormData(e.target), body={}; 
  fd.forEach((v,k)=> body[k]=v||null);
  
  try {
    const r = await fetch(API + "/pedons", { 
      method:'POST', 
      headers:{'content-type':'application/json'}, 
      body: JSON.stringify(body) 
    });
    
    const responseText = await r.text();
    outEl.textContent = responseText;
    
    // Try to parse and show prettier message
    try {
      const json = JSON.parse(responseText);
      if (json.ok) {
        outEl.textContent = "✓ SUCCESS: Pedon saved! ID: " + json.sdb_peiid;
        outEl.style.color = "green";
      } else {
        outEl.textContent = "✗ ERROR: " + json.error;
        outEl.style.color = "red";
      }
    } catch (e) {
      // If not JSON, just show the text
      outEl.style.color = "black";
    }
  } catch (err) {
    outEl.textContent = "✗ NETWORK ERROR: " + err.message;
    outEl.style.color = "red";
  }
});

// Function to toggle collapsible sections
function toggleSection(header) {
  const content = header.nextElementSibling;
  const arrow = header.querySelector('.collapsible-arrow');
  
  content.classList.toggle('hidden');
  arrow.classList.toggle('collapsed');
}

// Start all collapsible sections closed
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.collapsible-content').forEach(content => {
    content.classList.add('hidden');
    content.previousElementSibling.querySelector('.collapsible-arrow').classList.add('collapsed');
  });
});

</script>
</body>
</html>